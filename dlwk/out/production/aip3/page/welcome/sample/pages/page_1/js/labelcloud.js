var radius=100,dtr=Math.PI/180,d=300,mcList=[],active=!1,lasta=1,lastb=1,distr=!0,tspeed=2,size=250,mouseX=0,mouseY=0,howElliptical=1,aA=null,oDiv=null,colors="#04d24e #ff5a00 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3 #FF6A6A #9932CC #7CFC00 #458B00 #0000EE #43CD80 #CDCD00".split(" ");function getRandomColor(){return colors[Math.floor(Math.random()*colors.length)]}loadLabelCloud=function(a,e){var b=mcList.length=0,c=null;radius=e;oDiv=document.getElementById(a);aA=oDiv.getElementsByTagName("a");for(b=0;b<aA.length;b++)c={},c.offsetWidth=aA[b].offsetWidth,c.offsetHeight=aA[b].offsetHeight,$(aA[b]).css("color",getRandomColor()),mcList.push(c);sineCosine(0,0,0);positionAll();oDiv.onmouseover=function(){active=!0};oDiv.onmouseout=function(){active=!1};oDiv.onmousemove=function(a){a=window.event||a;mouseX=a.clientX/2-(oDiv.offsetLeft+oDiv.offsetWidth/2);mouseY=a.clientY/2-(oDiv.offsetTop+oDiv.offsetHeight/2);mouseX/=15;mouseY/=15};setInterval(update,30)};function update(){var a,e;active?(a=-Math.min(Math.max(-mouseY,-size),size)/radius*tspeed,e=Math.min(Math.max(-mouseX,-size),size)/radius*tspeed):(a=.98*lasta,e=.98*lastb);lasta=a;lastb=e;if(!(.01>=Math.abs(a)&&.01>=Math.abs(e))){sineCosine(a,e,0);for(a=0;a<mcList.length;a++){var b=mcList[a].cx,c=mcList[a].cy*sa+mcList[a].cz*ca,f=b*cb+c*sb,g=mcList[a].cy*ca+mcList[a].cz*-sa;e=f*cc+g*-sc;f=f*sc+g*cc;b=b*-sb+c*cb;mcList[a].cx=e;mcList[a].cy=f;mcList[a].cz=b;per=d/(d+b);mcList[a].x=howElliptical*e*per-2*howElliptical;mcList[a].y=f*per;mcList[a].scale=per;mcList[a].alpha=per;mcList[a].alpha=10/6*(mcList[a].alpha-.6)}doPosition();depthSort()}}function depthSort(){for(var a=0,e=[],a=0;a<aA.length;a++)e.push(aA[a]);e.sort(function(a,c){return a.cz>c.cz?-1:a.cz<c.cz?1:0});for(a=0;a<e.length;a++)e[a].style.zIndex=a}function positionAll(){for(var a=0,e=0,b=mcList.length,c=0,a=[],e=document.createDocumentFragment(),c=0;c<aA.length;c++)a.push(aA[c]);a.sort(function(){return.5>Math.random()?1:-1});for(c=0;c<a.length;c++)e.appendChild(a[c]);oDiv.appendChild(e);for(c=1;c<b+1;c++)distr?(a=Math.acos(-1+(2*c-1)/b),e=Math.sqrt(b*Math.PI)*a):(a=Math.random()*Math.PI,e=2*Math.random()*Math.PI),mcList[c-1].cx=radius*Math.cos(e)*Math.sin(a),mcList[c-1].cy=radius*Math.sin(e)*Math.sin(a),mcList[c-1].cz=radius*Math.cos(a),aA[c-1].style.left=mcList[c-1].cx+oDiv.offsetWidth/2-mcList[c-1].offsetWidth/2+"px",aA[c-1].style.top=mcList[c-1].cy+oDiv.offsetHeight/2-mcList[c-1].offsetHeight/2+"px"}function doPosition(){for(var a=oDiv.offsetWidth/2,e=oDiv.offsetHeight/2,b=0;b<mcList.length&&void 0!=aA[b]&&null!=aA[b];b++)aA[b].style.left=mcList[b].cx+a-mcList[b].offsetWidth/2+"px",aA[b].style.top=mcList[b].cy+e-mcList[b].offsetHeight/2+"px",aA[b].style.filter="alpha(opacity\x3d"+100*mcList[b].alpha+")",aA[b].style.opacity=mcList[b].alpha}function sineCosine(a,e,b){sa=Math.sin(a*dtr);ca=Math.cos(a*dtr);sb=Math.sin(e*dtr);cb=Math.cos(e*dtr);sc=Math.sin(b*dtr);cc=Math.cos(b*dtr)};